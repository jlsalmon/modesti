
<!-- Alerts are shown here -->
<div class="alert-messages">
  <div uib-alert ng-repeat="alert in $root.alerts"  ng-class="'alert-' + (alert.type || 'warning')" close="alert.close()">
    <span ng-bind-html="alert.message"></span>
  </div>
</div>


<section class="search-header container-fluid">
  <div class="row">
    <div class="col-md-12">

      <uib-tabset active="active">
        <uib-tab ng-repeat="schema in $ctrl.schemas" heading="{{schema.id}}" ng-click="$ctrl.activateSchema(schema)"></uib-tab>
      </uib-tabset>

    </div>
  </div>
</section>


<section class="search-toolbar container-fluid">
  <div class="row">
    <div class="col-lg-12">

      <!--<div class="pull-left">-->
        <!--<h4 style="margin: 0;">-->
          <!--<i class="fa fa-search fa-fw text-muted" style="vertical-align: baseline;"></i>-->
          <!--Searching for points on {{$ctrl.schema.id}} <small class="text-muted">{{$ctrl.schema.description}}</small>-->
        <!--</h4>-->
      <!--</div>-->

      <column-selector schema="$ctrl.schema" table="$ctrl.table"></column-selector>

      <filter-builder schema="$ctrl.schema" table="$ctrl.table"></filter-builder>

    </div>
  </div>
</section>


<!--<section class="column-panel search-column-panel">-->
  <!--<column-panel schema="$ctrl.schema" table="$ctrl.table" enable-filters="true"></column-panel>-->
<!--</section>-->


<section class="search-table">

  <!-- Loading overlay -->
  <div class="loading-overlay" ng-if="$ctrl.loading == 'started' || $ctrl.loading == 'error'">
    <span us-spinner ng-if="$ctrl.loading === 'started'"></span>
    <i class="fa fa-3x fa-exclamation-triangle" ng-if="$ctrl.loading === 'error'"></i>
  </div>

  <div id="table" ag-grid="$ctrl.table.gridOptions" class="ag-fresh"></div>

</section>


<footer class="footer">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <form class="form-inline">

          <div class="form-group" style="padding-top: 12px;">
            <span ng-if="$ctrl.page.totalElements" style="vertical-align: middle;">
              <!--page {{$ctrl.page.number}} of {{$ctrl.page.totalPages}} &middot; -->
              <b>{{$ctrl.page.totalElements}}</b> points for this filter
            </span>
          </div>


          <div class="pull-right">

            <!-- "Update points" button -->
            <div class="form-group">
              <button class="btn btn-sm btn-warning pull-right" ng-click="$ctrl.updatePoints()">
                <i class="fa fa-pencil"></i>
                Update selected points
              </button>
            </div>

            <!-- "Delete points" button -->
            <div class="form-group">
              <button class="btn btn-sm btn-danger pull-right" ng-disabled="true">
                <i class="fa fa-trash"></i>
                Delete selected points
              </button>
            </div>

          </div>
        </form>
      </div>
    </div>
  </div>
</footer>


